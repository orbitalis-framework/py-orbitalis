
Plugin:

constraints: ...
descriptors:  identifier => { descriptors }
pending: { (core_)identifier, when, topic }
connections: { (core_)identifier, when, topic }
core_descriptors: [ { descriptors } ]
features


Core:

needs: ...


pending: identifier => when
connections: identifier => when

descriptors: identifier => { descriptors } 

remote_methods: method_name => {
    identifier => {
        request_topic,
        schema
        response_topic
    }
}

hooks: hook_name => {
    identifier => {
        topic
    }
}



# plugin -> core
(core_)feature_name: {
    topic => identifier (plugin)    # schema definito a priori per la feature
}




Per eseguire la feature F dato un input I:

1. Cerco tra i plugin che hanno la feature quella che hanno lo schema compatibile con I
2. Invio al primo/a tutti/solo a quello indicato



TODO:

- Magic method per chiamare le feature
- Decoratore per evitare di definire un event handler
- Sistema per restare in attesa di una risposta dal plugin
- Fornire l'interfaccia del core durante il reply
